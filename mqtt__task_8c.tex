\doxysection{home-\/automation-\/main/home-\/automation-\/esp/components/app\+\_\+tasks/mqtt\+\_\+task.c File Reference}
\hypertarget{mqtt__task_8c}{}\label{mqtt__task_8c}\index{home-\/automation-\/main/home-\/automation-\/esp/components/app\_tasks/mqtt\_task.c@{home-\/automation-\/main/home-\/automation-\/esp/components/app\_tasks/mqtt\_task.c}}


Arquivo Responsável por implementar as tarefas de comunicação com um servidor externo.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \"{}esp\+\_\+system.\+h\"{}}\newline
{\ttfamily \#include \"{}esp\+\_\+partition.\+h\"{}}\newline
{\ttfamily \#include \"{}nvs\+\_\+flash.\+h\"{}}\newline
{\ttfamily \#include \"{}esp\+\_\+event.\+h\"{}}\newline
{\ttfamily \#include \"{}esp\+\_\+netif.\+h\"{}}\newline
{\ttfamily \#include \"{}esp\+\_\+log.\+h\"{}}\newline
{\ttfamily \#include \"{}mqtt\+\_\+client.\+h\"{}}\newline
{\ttfamily \#include \"{}esp\+\_\+tls.\+h\"{}}\newline
{\ttfamily \#include $<$sys/param.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$sys/time.\+h$>$}\newline
{\ttfamily \#include \"{}esp\+\_\+sntp.\+h\"{}}\newline
{\ttfamily \#include \"{}wifi\+\_\+conn.\+h\"{}}\newline
{\ttfamily \#include \"{}app\+\_\+tasks.\+h\"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{mqtt__task_8c_aa56b9d2c40c1a032c15d8d80506979ad}\label{mqtt__task_8c_aa56b9d2c40c1a032c15d8d80506979ad} 
const uint8\+\_\+t mqtt\+\_\+eclipseprojects\+\_\+io\+\_\+pem\+\_\+start\mbox{[}$\,$\mbox{]} {\bfseries asm} (\"{}\+\_\+binary\+\_\+mqtt\+\_\+eclipseprojects\+\_\+io\+\_\+pem\+\_\+start\"{})
\item 
\Hypertarget{mqtt__task_8c_a7a3a9b9dedd534c83087f725378139f4}\label{mqtt__task_8c_a7a3a9b9dedd534c83087f725378139f4} 
const uint8\+\_\+t mqtt\+\_\+eclipseprojects\+\_\+io\+\_\+pem\+\_\+end\mbox{[}$\,$\mbox{]} {\bfseries asm} (\"{}\+\_\+binary\+\_\+mqtt\+\_\+eclipseprojects\+\_\+io\+\_\+pem\+\_\+end\"{})
\item 
void \mbox{\hyperlink{mqtt__task_8c_a42d927564657cdcb5f426a11314de2a5}{mqtt\+\_\+task}} (void \texorpdfstring{$\ast$}{*}ignore)
\begin{DoxyCompactList}\small\item\em mqtt\+\_\+task \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{mqtt__task_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}\label{mqtt__task_8c_a5a85b9c772bbeb480b209a3e6ea92b4c} 
const char \texorpdfstring{$\ast$}{*} {\bfseries TAG} = \"{}mqtt\+\_\+task\"{}
\item 
Queue\+Handle\+\_\+t \mbox{\hyperlink{mqtt__task_8c_a8ef6c7739752ee9ab50848e42272f87c}{sensor\+\_\+queue}}
\item 
Queue\+Handle\+\_\+t \mbox{\hyperlink{mqtt__task_8c_afe409a0a05865536457c4f0798f9eed0}{lamp\+\_\+queue}}
\item 
Queue\+Handle\+\_\+t \mbox{\hyperlink{mqtt__task_8c_a5816cdfd73f65a8a0b00586ca058b03d}{time\+\_\+queue}}
\item 
\Hypertarget{mqtt__task_8c_a079567aa85481c2c828fc6b36074db10}\label{mqtt__task_8c_a079567aa85481c2c828fc6b36074db10} 
esp\+\_\+mqtt\+\_\+client\+\_\+handle\+\_\+t {\bfseries client}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Arquivo Responsável por implementar as tarefas de comunicação com um servidor externo. 

Este arquivo contém a implementação da tarefa \textquotesingle{}mqtt\+\_\+task\textquotesingle{}, responsável pela inicialização da conexão Wi\+Fi e configuração do cliente MQTT. 

\doxysubsection{Function Documentation}
\Hypertarget{mqtt__task_8c_a42d927564657cdcb5f426a11314de2a5}\label{mqtt__task_8c_a42d927564657cdcb5f426a11314de2a5} 
\index{mqtt\_task.c@{mqtt\_task.c}!mqtt\_task@{mqtt\_task}}
\index{mqtt\_task@{mqtt\_task}!mqtt\_task.c@{mqtt\_task.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_task()}{mqtt\_task()}}
{\footnotesize\ttfamily void mqtt\+\_\+task (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{ignore }\end{DoxyParamCaption})}



mqtt\+\_\+task 

A tarefa mqtt\+\_\+task é responsável pela inicialização da conexão Wi\+Fi e conexão Wi\+Fi e configuração do cliente MQTT A inicialização é feita por meio da função {\ttfamily wifi\+\_\+init\+\_\+sta} e (se estabelecida com sucesso) retorna ´cb\+\_\+connection\+\_\+ok´ 

\doxysubsection{Variable Documentation}
\Hypertarget{mqtt__task_8c_afe409a0a05865536457c4f0798f9eed0}\label{mqtt__task_8c_afe409a0a05865536457c4f0798f9eed0} 
\index{mqtt\_task.c@{mqtt\_task.c}!lamp\_queue@{lamp\_queue}}
\index{lamp\_queue@{lamp\_queue}!mqtt\_task.c@{mqtt\_task.c}}
\doxysubsubsection{\texorpdfstring{lamp\_queue}{lamp\_queue}}
{\footnotesize\ttfamily Queue\+Handle\+\_\+t lamp\+\_\+queue\hspace{0.3cm}{\ttfamily [extern]}}

Fila para comunicação com a tarefa da lâmpada \Hypertarget{mqtt__task_8c_a8ef6c7739752ee9ab50848e42272f87c}\label{mqtt__task_8c_a8ef6c7739752ee9ab50848e42272f87c} 
\index{mqtt\_task.c@{mqtt\_task.c}!sensor\_queue@{sensor\_queue}}
\index{sensor\_queue@{sensor\_queue}!mqtt\_task.c@{mqtt\_task.c}}
\doxysubsubsection{\texorpdfstring{sensor\_queue}{sensor\_queue}}
{\footnotesize\ttfamily Queue\+Handle\+\_\+t sensor\+\_\+queue\hspace{0.3cm}{\ttfamily [extern]}}

Fila para comunicação com a tarefa do sensor \Hypertarget{mqtt__task_8c_a5816cdfd73f65a8a0b00586ca058b03d}\label{mqtt__task_8c_a5816cdfd73f65a8a0b00586ca058b03d} 
\index{mqtt\_task.c@{mqtt\_task.c}!time\_queue@{time\_queue}}
\index{time\_queue@{time\_queue}!mqtt\_task.c@{mqtt\_task.c}}
\doxysubsubsection{\texorpdfstring{time\_queue}{time\_queue}}
{\footnotesize\ttfamily Queue\+Handle\+\_\+t time\+\_\+queue\hspace{0.3cm}{\ttfamily [extern]}}

Fila para comunicação com a tarefa de tempo 